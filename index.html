<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <!--Bootstrap links-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
    <link href="style2.css" rel="stylesheet">
</head>
<body>

<!--Bootstrap powered siedbar (navigation)-->
<div class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark" style="width: 280px;">
  <p href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
    <span class="fs-4">St Alphonsus DATA</span>
  </p>
  <hr>
  <ul class="nav nav-pills flex-column mb-auto">
    <li class="nav-item">
      <!--ID 'activeTab' allows the current page to be highlighted on the sidebar-->
      <!--Sidebar link-->
      <a href="index.php" id="activeTab" class="nav-link text-white" aria-current="page">
        <svg class="bi me-2" width="16" height="16"></svg>
        Dashboard
      </a>
    </li>
    <li>
      <!--Sidebar link-->
      <a href="pupils.php" class="nav-link text-white">
        <svg class="bi me-2" width="16" height="16"></svg>
        Pupils
      </a>
    </li>
    <li>
      <!--Sidebar link-->
      <a href="classes.php" class="nav-link text-white">
        <svg class="bi me-2" width="16" height="16"></svg>
        Classes
      </a>
    </li>
    <li>
      <!--Sidebar link-->
      <a href="teachers.php" class="nav-link text-white">
        <svg class="bi me-2" width="16" height="16"></svg>
        Teachers
      </a>
    </li>
    <li>
      <!--Sidebar link-->
      <a href="parents_guardians.php" class="nav-link text-white">
        <svg class="bi me-2" width="16" height="16"></svg>
        Parents/Guardians
      </a>
    </li>
    <li>
      <!--Sidebar link-->
      <a href="library.php" class="nav-link text-white">
        <svg class="bi me-2" width="16" height="16"></svg>
        Library
      </a>
    </li>
    <li>
      <!--Sidebar link-->
      <a href="medical.php" class="nav-link text-white">
        <svg class="bi me-2" width="16" height="16"></svg>
        Medical
      </a>
    </li>
    <li>
      <!--Sidebar link-->
      <a href="staff_salary.php" class="nav-link text-white">
        <svg class="bi me-2" width="16" height="16"></svg>
        Staff Salaries
      </a>
    </li>
    <li>
      <!--Sidebar link-->
      <a href="group.php" class="nav-link text-white">
        <svg class="bi me-2" width="16" height="16"></svg>
        Group
      </a>
    </li>
    <li style="height: 45vh;"></li>
  </ul> 
</div>

<!--Page Heading-->
<h1>Dashboard</h1>
<!--Line shape used for styling-->
<div style="background-color: red; width: 960px; height: 5px; position: absolute; top: 13%; right: 10%;"></div>
</body>
</html>

<?php
//Code used to connect to SQL database
//Con variable is declared (connects to database location, username, password and name of target database).
    $con=mysqli_connect("localhost","root","","st_alphonsus_primary_school");
//If connection fails, error message is displayed to the user
    if (mysqli_connect_errno())
      {
      echo "Failed to connect to MySQL: " . mysqli_connect_error();
      }

//The following code is used to create boxes for each entity.
//These boxes are links that display the name of the entity and how many rows their tables contain.

//The result variable is declared and assigned to store the staff salary table.
//The totalRows variable is declared and using mysqli_num_rows function, it stores the ammount of rows from the table.
//A div is then displayed with echo
//The div displays the row total to the user using the htmlspecialchars function
//Styling is added to the div along with a link to the corresponding page
$result1 = mysqli_query($con,"SELECT * FROM staff_salary");
$totalRowsStaffSalary = mysqli_num_rows($result1);
echo
"<a href='staff_salary.php'><div style='color: black; background-color: white; width: 230px; position: absolute; 
top: 20%; right: 26%; padding: 20px; border-style: solid; border-radius: 20px;'> <p style='font-weight: bolder;'>Staff Salaries</p>"
 . htmlspecialchars($totalRowsStaffSalary) . "<img style='width: 50px; margin-left: 100px;' src='images/salary.png' alt='Salary Icon'></div></a>";
//The result variable is declared and assigned to store the medical table.
//The totalRows variable is declared and using mysqli_num_rows function, it stores the ammount of rows from the table.
//A div is then displayed with echo
//The div displays the row total to the user using the htmlspecialchars function
//Styling is added to the div along with a link to the corresponding page
$result2 = mysqli_query($con,"SELECT * FROM medical");
$totalRowsMedical = mysqli_num_rows($result2);
echo
"<a href='medical.php'><div style='color: black; background-color: white; width: 230px; position: absolute; top: 20%; right: 42%; padding: 20px; border-style: solid; border-radius: 20px;'> <p style='font-weight: bolder;'>Medical</p>" . htmlspecialchars($totalRowsMedical) . "<img style='width: 50px; margin-left: 100px;' src='images/medical.png' alt='Medical Icon'></div></a>";
//The result variable is declared and assigned to store the teachers table.
//The totalRows variable is declared and using mysqli_num_rows function, it stores the ammount of rows from the table.
//A div is then displayed with echo
//The div displays the row total to the user using the htmlspecialchars function
//Styling is added to the div along with a link to the corresponding page
$result3 = mysqli_query($con,"SELECT * FROM teachers");
$totalRowsTeachers = mysqli_num_rows($result3);
echo
"<a href='teachers.php'><div style='color: black; background-color: white; width: 230px; position: absolute; top: 20%; right: 58%; padding: 20px; border-style: solid; border-radius: 20px;'> <p style='font-weight: bolder;'>Teachers</p>" . htmlspecialchars($totalRowsTeachers) . "<img style='width: 50px; margin-left: 100px;' src='images/teacher.png' alt='Teacher Icon'></div></a>";
//The result variable is declared and assigned to store the classes table.
//The totalRows variable is declared and using mysqli_num_rows function, it stores the ammount of rows from the table.
//A div is then displayed with echo
//The div displays the row total to the user using the htmlspecialchars function
//Styling is added to the div along with a link to the corresponding page
$result4 = mysqli_query($con,"SELECT * FROM classes");
$totalRowsClasses = mysqli_num_rows($result4);
echo
"<a href='classes.php'><div style='background-color: white; color: black; width: 230px; position: absolute; top: 20%; right: 10%; padding: 20px; border-style: solid; border-radius: 20px;'> <p style='font-weight: bolder;'>Classes</p>" . htmlspecialchars($totalRowsClasses) . "<img style='width: 50px; margin-left: 100px;' src='images/classes.png' alt='Classes Icon'></div></a>";
//The result variable is declared and assigned to store the parents/guardians table.
//The totalRows variable is declared and using mysqli_num_rows function, it stores the ammount of rows from the table.
//A div is then displayed with echo
//The div displays the row total to the user using the htmlspecialchars function
//Styling is added to the div along with a link to the corresponding page
$result5 = mysqli_query($con,"SELECT * FROM parents_guardians");
$totalRowsParents = mysqli_num_rows($result5);
echo
"<a href='parents_guardians.php'><div style='color: black; background-color: white; width: 230px; position: absolute; top: 42%; right: 26%; padding: 20px; border-style: solid; border-radius: 20px;'> <p style='font-weight: bolder;'>Parents/Guardians</p>" . htmlspecialchars($totalRowsParents) . "<img style='width: 50px; margin-left: 100px;' src='images/parent.png' alt='Parent Icon'></div></a>";
//The result variable is declared and assigned to store the library table.
//The totalRows variable is declared and using mysqli_num_rows function, it stores the ammount of rows from the table.
//A div is then displayed with echo
//The div displays the row total to the user using the htmlspecialchars function
//Styling is added to the div along with a link to the corresponding page
$result6 = mysqli_query($con,"SELECT * FROM library");
$totalRowsLibrary = mysqli_num_rows($result6);
echo
"<a href='library.php'><div style='color: black; background-color: white; width: 230px; position: absolute; top: 42%; right: 42%; padding: 20px; border-style: solid; border-radius: 20px;'> <p style='font-weight: bolder;'>Library</p>" . htmlspecialchars($totalRowsLibrary) . "<img style='width: 50px; margin-left: 100px;' src='images/library.png' alt='Library Icon'></div></a>";
//The result variable is declared and assigned to store the pupils table.
//The totalRows variable is declared and using mysqli_num_rows function, it stores the ammount of rows from the table.
//A div is then displayed with echo
//The div displays the row total to the user using the htmlspecialchars function
//Styling is added to the div along with a link to the corresponding page
$result7 = mysqli_query($con,"SELECT * FROM pupils");
$totalRowsPupils = mysqli_num_rows($result7);
echo
"<a href='pupils.php'><div style='color: black; background-color: white; width: 230px; position: absolute; top: 42%; right: 58%; padding: 20px; border-style: solid; border-radius: 20px;'> <p style='font-weight: bolder;'>Pupils</p>" . htmlspecialchars($totalRowsPupils) . "<img style='width: 50px; margin-left: 100px;' src='images/pupil.png' alt='Pupil Icon'></div></a>";
//The result variable is declared and assigned to store the groups table.
//The totalRows variable is declared and using mysqli_num_rows function, it stores the ammount of rows from the table.
//A div is then displayed with echo
//The div displays the row total to the user using the htmlspecialchars function
//Styling is added to the div along with a link to the corresponding page
$result8 = mysqli_query($con,"SELECT * FROM groups");
$totalRowsGroups = mysqli_num_rows($result8);
echo
"<a href='group.php'><div style='color: black; background-color: white; width: 230px; position: absolute; top: 42%; right: 10%; padding: 20px; border-style: solid; border-radius: 20px;'><p style='font-weight: bolder;'>Groups</p>" . htmlspecialchars($totalRowsGroups) . "<img style='width: 50px; margin-left: 100px;' src='images/group.png' alt='Group Icon'></div></a>";
?>